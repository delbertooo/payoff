<mat-toolbar color="primary">
  <a routerLink="/" mat-icon-button>
    <mat-icon>arrow_back</mat-icon>
  </a>
  Add purchase
  <span class="toolbar-spacer"></span>
  <button mat-icon-button (click)="save()">
      <mat-icon>check</mat-icon>
  </button>

</mat-toolbar>

<div class="form-container">
  <form #form="ngForm">
    <mat-form-field>
      <input matInput placeholder="Purchase">
    </mat-form-field>


    <mat-form-field>
      <input matInput placeholder="Price" name="price" required [ngModel]="model.price" (ngModelChange)="model.price = $event; pricePreview = evaluateTerm($event)">
      <mat-hint align="end">= {{pricePreview === undefined ? 'NaN' : pricePreview | currency:'EUR'}}</mat-hint>
    </mat-form-field>

    <mat-form-field>
      <mat-select placeholder="Purchaser" name="purchaser" required [(ngModel)]="model.purchaser">
        <mat-option *ngFor="let purchaser of purchasers$ | async" value="purchaser">{{purchaser}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-select placeholder="Participants" name="participants" [(ngModel)]="model.participants" multiple>
        <mat-option *ngFor="let participant of purchasers$ | async" [value]="participant">{{participant}}</mat-option>
      </mat-select>
    </mat-form-field>
  </form>
</div>